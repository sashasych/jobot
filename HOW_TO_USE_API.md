# üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API Jobot

–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å API.

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (3 —à–∞–≥–∞)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
make docker-up && make db-migrate && make run
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI

```bash
make api-docs-open
```

–ò–ª–∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞:
```
http://localhost:8080/api/docs
```

### –®–∞–≥ 3: –ù–∞—á–Ω–∏—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å!

–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ Swagger UI:
1. –í—ã–±–µ—Ä–∏—Ç–µ –ª—é–±–æ–π endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, `POST /api/users`)
2. –ù–∞–∂–º–∏—Ç–µ **"Try it out"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
4. –ù–∞–∂–º–∏—Ç–µ **"Execute"**
5. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üéØ –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –Ø —Å–æ–∏—Å–∫–∞—Ç–µ–ª—å

```
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç     ‚Üí POST /api/users (role: employee)
2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å     ‚Üí POST /api/employees
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—é–º–µ    ‚Üí POST /api/resumes
4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏ ‚Üí GET /api/vacancies
5. –ü–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫      ‚Üí POST /api/reactions
```

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ Swagger UI:**
http://localhost:8080/api/docs

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –Ø —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å

```
1. –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç       ‚Üí POST /api/users (role: employer)
2. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å       ‚Üí POST /api/employers
3. –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é ‚Üí POST /api/vacancies
4. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–∞–∫–∞–Ω—Å–∏–∏   ‚Üí GET /api/employers/{id}/vacansies
5. –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é     ‚Üí PUT /api/vacancies/{id}
```

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤ Swagger UI:**
http://localhost:8080/api/docs

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ API —Å—Å—ã–ª–∫–∏
make api-docs

# –û—Ç–∫—Ä—ã—Ç—å Swagger UI
make api-docs-open

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
make docker-logs-app

# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
make db-psql

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë
make docker-rebuild
```

## üìù –ü—Ä–∏–º–µ—Ä—ã curl

### –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```bash
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -d '{
    "tg_chat_id": "123456789",
    "tg_user_name": "john_doe",
    "role": "employee"
  }'
```

### –°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é
```bash
curl -X POST http://localhost:8080/api/vacancies \
  -H "Content-Type: application/json" \
  -d '{
    "employer_id": "YOUR_EMPLOYER_ID",
    "tags": ["golang", "senior"],
    "title": "Senior Go Developer",
    "description": "Looking for Go expert",
    "location": "Remote",
    "salary": "200k - 300k —Ä—É–±"
  }'
```

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏
```bash
curl http://localhost:8080/api/vacancies
```

## üõ†Ô∏è –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|------------|-------------------|
| **Swagger UI** | üèÜ –ü–µ—Ä–≤–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å API, –∏–∑—É—á–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –±—ã—Å—Ç—Ä–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **Postman** | –°–ª–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, –∫–æ–ª–ª–µ–∫—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ |
| **curl** | –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —Å–∫—Ä–∏–ø—Ç—ã, CI/CD |
| **HTTPie** | –ö—Ä–∞—Å–∏–≤—ã–π –≤—ã–≤–æ–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ |

## üéì –û–±—É—á–µ–Ω–∏–µ

### –ï—Å–ª–∏ –≤—ã –Ω–æ–≤–∏—á–æ–∫ –≤ API:

1. –ù–∞—á–Ω–∏—Ç–µ —Å–æ **Swagger UI**: http://localhost:8080/api/docs
2. –ò–∑—É—á–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Health Check**
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `POST /api/users`
4. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: `GET /api/users/{id}`
5. –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º

### –ï—Å–ª–∏ –≤—ã –æ–ø—ã—Ç–Ω—ã–π —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:

1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –≤–∞—à –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
2. –ò–∑—É—á–∏—Ç–µ —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–æ–≤
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –≤ —Å–≤–æ–π –∫–æ–¥

## üìñ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **Swagger Guide**: [SWAGGER_GUIDE.md](SWAGGER_GUIDE.md)
- **API Documentation**: [api/README.md](api/README.md)
- **Postman Testing**: [POSTMAN_TESTING.md](POSTMAN_TESTING.md)
- **Main README**: [README.md](README.md)

## üÜò –ü–æ–º–æ—â—å

**API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç?**
```bash
make dev-status    # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
make docker-logs   # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
```

**Swagger –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è?**
```bash
make run           # –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
make api-docs      # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫–∏
```

**–ù—É–∂–Ω—ã –ø—Ä–∏–º–µ—Ä—ã?**
- Swagger UI: http://localhost:8080/api/docs (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã)
- Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è: [postman_collection.json](postman_collection.json)
- –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ: [migrations/test_data.sql](migrations/test_data.sql)

---

**–ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!**

```bash
make api-docs-open
```

üéâ **–£–¥–∞—á–∏!**

